<%- include('templates/header') %>
<head>
    <script
        id="search-js"
        defer
        src="https://api.mapbox.com/search-js/v1.0.0-beta.22/web.js"
    >
    </script>
    <script>
        const script = document.getElementById('search-js');
        script.onload = function() {
            mapboxsearch.autofill({
                accessToken: '<%= mapboxToken %>'
            });
        };
    </script>
    </head>

    <form method="POST" action="/testPost">
        <input name="address" data-property="address" placeholder="Address" type="text" autocomplete="address-line1" />
        <input name="city" style="visibility: hidden;" placeholder="City" type="text" autocomplete="address-level2" />
        <input name="province" style="visibility: hidden;" placeholder="Province" type="text" autocomplete="address-level1" />
        <input name="postalCode" style="visibility: hidden;" placeholder="Postal Code" type="text" autocomplete="postal-code" />

        <button type="submit">Submit</button>
    </form>

<%- include('templates/footer') %>